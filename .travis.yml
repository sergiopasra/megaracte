language: python
python:
   - "2.7"
   - "3.3"
   - "3.4"

os:
  - linux
  - osx

env:
  - RR="--durations=10"
  - RR=""
  - RR="--cov"

# OSx seems to fail for the moment
matrix:
  allow_failures:
   - os: osx

# command to install dependencies
install: 
 - if [[ $RR == '--cov' ]]; then pip install coveralls; fi
 - if [[ $RR == '--cov' ]]; then pip install pytest-cov; fi
# command to run tests
script: 
  - py.test $RR megaracte
after_success:
  - if [[ $RR == '--cov' ]]; then coveralls; fi
